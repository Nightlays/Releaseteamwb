:root{
      --wb-bg:#faf5ff; --wb-bg-2:#f8f7ff;
      --wb-primary:#9b5cff; --wb-secondary:#ff5ac8; --wb-deep:#7c3aed;
      --green:#22c55e; --red:#f43f5e;
      --chp-prod:#22c55e; --chp-vlet:#f59e0b; --chp-bug:#ef4444; --chp-crash:#3b82f6;
      --ring: 0 10px 30px rgba(155,92,255,.25);
      --card: 0 12px 36px rgba(31,41,55,.08);
      --r-xl:22px;
    }
    body{
      background:
        radial-gradient(1200px 600px at 0% -10%, rgba(155,92,255,.14), transparent 60%),
        radial-gradient(900px 500px at 100% 0%, rgba(255,90,200,.10), transparent 55%),
        var(--wb-bg);
      color:#111827;
      font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    .card{background:#fff;border:1px solid #efe5f4;border-radius:var(--r-xl);box-shadow:var(--card)}
    .brand-badge{display:flex;align-items:center;gap:.55rem;background:#fff;border:1px solid #efe5f4;padding:.55rem .7rem;border-radius:999px;box-shadow:0 8px 20px rgba(155,92,255,.12)}
    .brand-dot{width:10px;height:10px;border-radius:99px;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));box-shadow:0 0 0 4px rgba(155,92,255,.14)}
    .chip{display:inline-flex;align-items:center;gap:.4rem;padding:.25rem .55rem;border-radius:999px;background:#f7f5ff;border:1px solid #ecebff;color:#5b21b6;font-size:.75rem}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:14px;padding:.55rem .9rem;border:1px solid transparent;transition:.15s;user-select:none}
    .btn:active{transform:translateY(1px)}
    .btn-soft{background:#f7f5ff;border-color:#e9e2ff;color:#4c1d95}
    .btn-soft:hover{background:#f3efff}
    .btn-ghost{background:transparent;border-color:#ecebff;color:#4c1d95}
    .btn-ghost:hover{background:#f7f5ff}
.btn-grad{color:#fff;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));box-shadow:var(--ring)}
.btn-grad:hover{filter:saturate(1.05);transform:translateY(-1px)}
.btn-grad,
.btn-grad:hover,
.btn-grad:focus{
  color:#fff;
  text-shadow:0 1px 2px rgba(31,41,55,.35);
}
    .btn-circle{width:34px;height:34px;padding:0;border-radius:999px;background:#f7f5ff;border:1px solid #ecebff;color:#4c1d95}
    .btn-circle:hover{background:#f3efff}
    .tabs{display:inline-flex;border:1px solid #ecebff;background:#faf9ff;border-radius:999px;overflow:hidden}
    .tab{padding:.35rem .7rem;font-size:.85rem;color:#4c1d95;border-right:1px solid #ecebff}
    .tab:last-child{border-right:none}
    .tab[aria-selected="true"]{background:linear-gradient(90deg,rgba(155,92,255,.14),rgba(255,90,200,.10));font-weight:700}
.input{width:100%;border:1px solid #e9e2ff;border-radius:14px;padding:.55rem .7rem;background:#fff;outline:none}
.input:focus{border-color:#c4b5fd;box-shadow:0 0 0 4px rgba(155,92,255,.12)}
.input::placeholder,
textarea::placeholder,
input::placeholder{
  color: rgba(76,29,149,.55);
  opacity: 1;
}
.input:hover::placeholder,
textarea:hover::placeholder,
input:hover::placeholder,
.input:focus::placeholder,
textarea:focus::placeholder,
input:focus::placeholder{
  color: rgba(76,29,149,.65);
}
    .hint{font-size:.85rem;color:#7c7f8c}
    table{width:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}
    thead th{background:#f7f5ff;border-bottom:1px solid #ecebff;padding:.7rem .8rem;font-weight:700;color:#5b21b6}
    td{border-bottom:1px dashed #eeeef8;padding:.6rem .7rem;vertical-align:top}
    tbody tr:hover td{background:#faf9ff}
    .wrap{white-space:normal;word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    .bar{height:8px;background:#eae6ff;border-radius:999px;overflow:hidden}
    .bar>div{height:100%;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));width:0%}
    .toast{position:fixed;right:16px;bottom:16px;background:#111827;color:#fff;padding:.75rem 1rem;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,25);opacity:0;transform:translateY(8px);transition:.25s;z-index:50}
    .toast.show{opacity:1;transform:translateY(0)}
    .overlay{position:fixed;inset:0;background:rgba(15,23,42,45);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:40}
    .popover{
      position:fixed; background:#111827; color:#e5e7eb; border-radius:12px; padding:.5rem .7rem;
      max-width:320px; font-size:.85rem; box-shadow:0 16px 40px rgba(0,0,0,25); z-index:60;
    }
    .popover:after{content:''; position:absolute; width:10px; height:10px; background:#111827; transform:rotate(45deg); top:-5px; left:22px}
    .sort-arrows{ display:inline-flex; gap:3px; margin-left:6px; vertical-align:middle; }
    .sort-arrow{ font-size:10px; line-height:1; opacity:.30; }
    .sort-active{ opacity:1; color:#7c3aed; }

    /* Убираем горизонтальные скроллы (оставляем вертикальный) */
    .overflow-auto{ overflow-x:hidden; overflow-y:auto; }

    /* На всякий случай: не даём странице уезжать по X */
    html, body{ overflow-x:hidden; }

/* ===== Добавлено для all_table_v1 (график вместо таблицы, стиль контейнера как в uwu_6) ===== */
.chart-viewport{
  position:relative;
  background:#fff;
  padding:14px;
}
.chart-viewport canvas{
  display:block;
  width:100%;
  height:320px; /* визуальная высота, даже без данных */
}
.chart-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:14px;
  color:#64748b;
  background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.88));
  pointer-events:none;
}

/* легенда как в all_table_v1 - копия, но в палитре uwu */
.legend{ display:flex; gap:.9rem; align-items:center; flex-wrap:wrap; }
.legend .lg-item{ display:inline-flex; align-items:center; gap:.4rem; font-size:.85rem; color:#4b5563; }
.legend .dot{ width:10px; height:10px; border-radius:999px; display:inline-block; }
.legend .dot-android{ background:var(--wb-primary); box-shadow:0 0 0 4px rgba(155,92,255,.12); }
.legend .dot-ios{ background:var(--wb-secondary); box-shadow:0 0 0 4px rgba(255,90,200,.12); }

/* danger button (для "Остановить сбор") */
.btn-danger{
  color:#fff;
  background:linear-gradient(90deg, rgba(244,63,94,1), rgba(255,90,200,.95));
  box-shadow:0 10px 30px rgba(244,63,94,.20);
}
.btn-danger:hover{filter:saturate(1.05);transform:translateY(-1px)}


/* ===== TestCases chart/table (manual/auto/total) ===== */
:root{
  --tc-manual:#f59e0b; /* ярко-оранжевый */
  --tc-auto:#06b6d4;   /* бирюзовый */
  --tc-total:#a855f7;  /* фиолетовый */
}

#tcTrendViewport{height:340px;}
@media (max-width:720px){
  #tcTrendViewport{height:300px;}
}

/* Заглушка той же высоты + анимация при сборе */
.tc-placeholder{
  min-height:520px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:14px;
  padding:16px;
  background:linear-gradient(180deg,#ffffff,#fbfaff);
}
.tc-skeleton{display:grid;gap:10px;}
.tc-skel-line{
  height:14px;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(124,58,237,.08), rgba(124,58,237,.18), rgba(124,58,237,.08));
  background-size:200% 100%;
}
.tc-placeholder.is-loading .tc-skel-line{
  animation:tcShimmer 1.15s linear infinite;
}
@keyframes tcShimmer{
  0%{background-position:0% 0;}
  100%{background-position:-200% 0;}
}
.tc-ph-text{
  font-size:12px;
  color:#64748b;
  text-align:center;
}

/* Легенда */
.dot.dot-manual{background:var(--tc-manual); border:1px solid rgba(0,0,0,.08);}
.dot.dot-auto{background:var(--tc-auto); border:1px solid rgba(0,0,0,.08);}
.dot.dot-total{background:var(--tc-total); border:1px solid rgba(0,0,0,.08);}

/* Полосы в таблице */
.bar-fill{height:100%;border-radius:999px;}
.bar-fill-manual{background:var(--tc-manual);}
.bar-fill-auto{background:var(--tc-auto);}
.bar-fill-total{background:var(--tc-total);}


/* Coverage chart colors (SWAT/STREAM) */
:root{
  --cov-swat:#22c55e;
  --cov-stream:#f43f5e;
}

.dot.dot-swat{ background: var(--cov-swat); }
.dot.dot-stream{ background: var(--cov-stream); }

/* Legend dots for cutoff/store */
.dot-ios-cutoff{background:var(--cut-ios-cutoff,#1d4ed8)}
.dot-ios-store{background:var(--cut-ios-store,#7c3aed)}
.dot-android-cutoff{background:var(--cut-android-cutoff,#22c55e)}
.dot-android-store{background:var(--cut-android-store,#f59e0b)}

/* На всякий случай, если в style.css нет базового вида точек */
.legend .dot{width:10px;height:10px;border-radius:9999px;display:inline-block;box-shadow:0 0 0 2px rgba(255,255,255,.9)}

/* ===== SWAT Dashboard (добавка, без изменения текущих стилей) ===== */

/* table helpers */
table th, table td { position: relative; }

.cell-ellipsis{
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  max-width: 100%;
  display: block;
}

/* wrappers: без вертикального скролла внутри таблиц */
.swat-table-scroll{
  overflow-x: auto;
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
}

/* layout for tables (вместо inline style) */
.swat-emp-table{ min-width: 1750px; }
.swat-fixed-table{ width: 100%; table-layout: fixed; }

/* resizable columns */
.th-wrap{
  display:flex;
  align-items:center;
  gap:8px;
  min-height: 32px;
}
.th-title{ flex:1 1 auto; min-width:0; }
.col-resize-handle{
  position:absolute;
  top:0; right:-3px;
  width: 8px;
  height: 100%;
  cursor: col-resize;
  user-select:none;
  z-index: 5;
}
.col-resize-handle::after{
  content:"";
  position:absolute;
  top:8px; bottom:8px;
  left:50%;
  transform:translateX(-50%);
  width:2px;
  border-radius:999px;
  background: rgba(109, 40, 217, .20);
}
.col-resizing * { cursor: col-resize !important; user-select:none !important; }

/* sorting visuals */
th.sortable{ cursor: pointer; user-select:none; }
th.sortable:hover{ background: rgba(255,255,255,0.55); }
.sort-ind{
  font-size: 12px;
  opacity: .75;
  margin-left: 6px;
}

/* sticky name column + right boundary */
th.sticky-name, td.sticky-name{
  position: sticky;
  left: 0;
  z-index: 20;
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(4px);
  box-shadow: 10px 0 16px -18px rgba(15,23,42,0.65);
}
thead th.sticky-name{ z-index: 30; }
th.sticky-name::after, td.sticky-name::after{
  content:"";
  position:absolute;
  top:-1px;
  bottom:-1px;
  right:-1px;
  width:1px;
  background: #ecebff; /* как разделительная линия у колонок */
  pointer-events:none;
  z-index: 40;
}

/* day cells: фиксируем фон, чтобы hover строки не перекрашивал */
td.day-cell.day-worked{ background: rgba(110,231,183,0.60) !important; }
td.day-cell.day-not-worked{ background: rgba(253,164,175,0.70) !important; }
tbody tr:hover td.day-cell.day-worked{ background: rgba(110,231,183,0.60) !important; }
tbody tr:hover td.day-cell.day-not-worked{ background: rgba(253,164,175,0.70) !important; }

/* click-to-open modal for "Проходил" */
.swat-path-cell{ cursor: pointer; }
.swat-path-cell:hover{ background: rgba(250,249,255,0.65); }

/* toast (центр снизу) */
.swat-toast{
  position: fixed;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s;
  z-index: 60;
}
.swat-toast.swat-toast-show{ opacity: 1; }

/* modal */
.swat-modal-overlay{
  position: fixed;
  inset: 0;
  background: rgba(15,23,42,.45);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 80;
}
.swat-modal{
  position: relative;
  width: min(860px, calc(100vw - 32px));
  max-height: min(80vh, 740px);
  overflow: auto;
  background: #fff;
  border: 1px solid #ecebff;
  border-radius: 18px;
  box-shadow: 0 20px 60px rgba(15,23,42,.25);
  padding: 14px 14px 16px;
}
.swat-modal-head{ padding-right: 40px; }
.swat-modal-title{
  font-weight: 800;
  color: #111827;
  font-size: 16px;
  line-height: 1.2;
}
.swat-modal-sub{
  margin-top: 4px;
  font-size: 12px;
  color: #6b7280;
}
.swat-modal-body{
  margin-top: 12px;
  white-space: pre-wrap;
  word-break: break-word;
  font-size: 13px;
  color: #111827;
  background: #faf9ff;
  border: 1px solid #ecebff;
  border-radius: 14px;
  padding: 10px 12px;
}
.swat-modal-close{
  position: absolute;
  top: 10px;
  right: 10px;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  background: #f7f5ff;
  border: 1px solid #ecebff;
  color: #4c1d95;
  font-weight: 900;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.swat-modal-close:hover{ background: #f3efff; }

/* ===== SWAT Dashboard: popover вместо модалки (добавка) ===== */

.swat-popover{
  position: fixed;
  z-index: 90;
  width: min(560px, calc(100vw - 16px));
  max-height: min(60vh, 520px);
  overflow: auto;
  background: #fff;
  border: 1px solid #ecebff;
  border-radius: 16px;
  box-shadow: 0 18px 50px rgba(15,23,42,.22);
  padding: 10px 12px 12px;
}

.swat-popover-head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
}

.swat-popover-title{
  font-weight: 800;
  color: #111827;
  font-size: 14px;
  line-height: 1.2;
}

.swat-popover-sub{
  margin-top: 2px;
  font-size: 12px;
  color: #6b7280;
}

.swat-popover-actions{
  display:flex;
  align-items:center;
  gap: 6px;
  flex: 0 0 auto;
}

.swat-popover-btn{
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: #f7f5ff;
  border: 1px solid #ecebff;
  color: #4c1d95;
  font-weight: 900;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.swat-popover-btn:hover{ background: #f3efff; }

.swat-popover-body{
  margin-top: 10px;
  white-space: pre-wrap;
  word-break: break-word;
  font-size: 13px;
  color: #111827;
  background: #faf9ff;
  border: 1px solid #ecebff;
  border-radius: 14px;
  padding: 10px 12px;
}
/* вертикальные разделители колонок только в таблице типов задач */
.types-table th,
.types-table td{
   border-right: 1px solid rgba(120, 120, 160, 0.25);
}

.types-table th:last-child,
.types-table td:last-child{
  border-right: none;
}

.types-table th:first-child,
.types-table td:first-child{
  padding-right: 1.05rem; /* чуть больше отступ от разделительной линии */
  min-width: 120px;       /* чтобы релиз точно влез */
}

/* types-table: все линии на ~40% толще и темнее */
.types-table thead th{
  border-bottom: 1.4px solid rgba(120,120,160,.35);
}

.types-table th,
.types-table td{
  border-right: 1.4px solid rgba(120,120,160,.35);
}

.types-table td{
  border-bottom: 1.4px dashed rgba(120,120,160,.31);
}

.types-table th:last-child,
.types-table td:last-child{
  border-right: none;
}
:root{
      --wb-bg:#faf5ff; --wb-bg-2:#f8f7ff;
      --wb-primary:#9b5cff; --wb-secondary:#ff5ac8; --wb-deep:#7c3aed;
      --green:#22c55e; --red:#f43f5e;
      --ring: 0 10px 30px rgba(155,92,255,.25);
      --card: 0 12px 36px rgba(31,41,55,.08);
      --r-xl:22px;
    }
    body{
      background:
        radial-gradient(1200px 600px at 0% -10%, rgba(155,92,255,.14), transparent 60%),
        radial-gradient(900px 500px at 100% 0%, rgba(255,90,200,.10), transparent 55%),
        var(--wb-bg);
      color:#111827;
      font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    /* widen overall layout to fit wide tables */
    .max-w-screen-2xl{max-width:1800px}
    .card{background:#fff;border:1px solid #efe5f4;border-radius:var(--r-xl);box-shadow:var(--card)}
    .brand-badge{display:flex;align-items:center;gap:.55rem;background:#fff;border:1px solid #efe5f4;padding:.55rem .7rem;border-radius:999px;box-shadow:0 8px 20px rgba(155,92,255,.12)}
    .brand-dot{width:10px;height:10px;border-radius:99px;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));box-shadow:0 0 0 4px rgba(155,92,255,.14)}
    .chip{display:inline-flex;align-items:center;gap:.4rem;padding:.25rem .55rem;border-radius:999px;background:#f7f5ff;border:1px solid #ecebff;color:#5b21b6;font-size:.75rem}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:14px;padding:.55rem .9rem;border:1px solid transparent;transition:.15s;user-select:none}
    .btn:active{transform:translateY(1px)}
    .btn-soft{background:#f7f5ff;border-color:#e9e2ff;color:#4c1d95}
    .btn-soft:hover{background:#f3efff}
    .btn-ghost{background:transparent;border-color:#ecebff;color:#4c1d95}
    .btn-ghost:hover{background:#f7f5ff}
    .btn-grad{color:#fff;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));box-shadow:var(--ring)}
    .btn-grad:hover{filter:saturate(1.05);transform:translateY(-1px)}
    .btn-circle{width:34px;height:34px;padding:0;border-radius:999px;background:#f7f5ff;border:1px solid #ecebff;color:#4c1d95}
    .btn-circle:hover{background:#f3efff}
    .tabs{display:inline-flex;border:1px solid #ecebff;background:#faf9ff;border-radius:999px;overflow:hidden}
    .tab{padding:.35rem .7rem;font-size:.85rem;color:#4c1d95;border-right:1px solid #ecebff}
    .tab:last-child{border-right:none}
    .tab[aria-selected="true"]{background:linear-gradient(90deg,rgba(155,92,255,.14),rgba(255,90,200,.10));font-weight:700}
    .input{width:100%;border:1px solid #e9e2ff;border-radius:14px;padding:.55rem .7rem;background:#fff;outline:none}
    .input:focus{border-color:#c4b5fd;box-shadow:0 0 0 4px rgba(155,92,255,.12)}
    .hint{font-size:.85rem;color:#7c7f8c}
    table{width:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}
    thead th{background:#f7f5ff;border-bottom:1px solid #dcd3f7;padding:.7rem .8rem;font-weight:700;color:#5b21b6}
    td{border-bottom:1px solid #e0d8f6;padding:.6rem .7rem;vertical-align:top}
    th, td{border-right:1px solid #e0d8f6}
    th:last-child, td:last-child{border-right:none}
    tbody tr:hover td{background:#faf9ff}

    /* Avg table: separators + centered values under headers */
    #avgTable thead th,
    #avgTable td{
      border-bottom:1px solid #ecebff;
      border-right:1px solid #ecebff;
    }
    #avgTable thead th:last-child,
    #avgTable td:last-child{ border-right:none; }
    #avgTable th:first-child,
    #avgTable td:first-child{ text-align:left; }
    #avgTable th:not(:first-child),
    #avgTable td:not(:first-child){ text-align:center; }

    #chpTable th:first-child,
    #chpTable td:first-child{ text-align:left; }
    #chpTable th:not(:first-child),
    #chpTable td:not(:first-child){ text-align:center; }
    #chpTypesTable th:first-child,
    #chpTypesTable td:first-child{ text-align:left; }
    #chpTypesTable th:not(:first-child),
    #chpTypesTable td:not(:first-child){ text-align:center; }

    #cutTable th:first-child,
    #cutTable td:first-child{ text-align:left; }
    #cutTable th:not(:first-child),
    #cutTable td:not(:first-child){ text-align:center; }

    .cut-cell.cut-on{color:var(--green);font-weight:700}
    .cut-cell.cut-late{color:var(--red);font-weight:700}

    .cutoff-legend{color:#4b5563}
    .cutoff-dot{width:10px;height:10px;border-radius:999px;display:inline-block;margin-right:6px}
    .cutoff-on{background:var(--green);box-shadow:0 0 0 4px rgba(34,197,94,.12)}
    .cutoff-late{background:var(--red);box-shadow:0 0 0 4px rgba(244,63,94,.12)}
    .cut-time.cut-on,
    .cut-note.cut-on{color:var(--green);font-weight:700}
    .cut-time.cut-late,
    .cut-note.cut-late{color:var(--red);font-weight:700}

    #covTable th:first-child,
    #covTable td:first-child{ text-align:left; }
    #covTable th:not(:first-child),
    #covTable td:not(:first-child){ text-align:center; }

    #selTable th:first-child,
    #selTable td:first-child{ text-align:left; }
    #selTable th:not(:first-child),
    #selTable td:not(:first-child){ text-align:center; }
    .wrap{white-space:normal;word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    .bar{height:8px;background:#eae6ff;border-radius:999px;overflow:hidden}
    .bar>div{height:100%;background:linear-gradient(90deg,var(--wb-primary),var(--wb-secondary));width:0%}
    .toast{position:fixed;right:16px;bottom:16px;background:#111827;color:#fff;padding:.75rem 1rem;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,25);opacity:0;transform:translateY(8px);transition:.25s;z-index:50}
    .toast.show{opacity:1;transform:translateY(0)}
    .overlay{position:fixed;inset:0;background:rgba(15,23,42,45);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:40}
.popover{
      position:fixed; background:#111827; color:#e5e7eb; border-radius:12px; padding:.5rem .7rem;
      max-width:320px; font-size:.85rem; box-shadow:0 16px 40px rgba(0,0,0,25); z-index:60;
    }
    .popover:after{content:''; position:absolute; width:10px; height:10px; background:#111827; transform:rotate(45deg); top:-5px; left:22px}
    .popover .pop-hdr{font-weight:700; margin:4px 0 2px; color:#c7d2fe}
    .popover .pop-row{display:flex; justify-content:space-between; gap:10px; font-size:.82rem; margin:2px 0}
    .popover .pop-name{opacity:.95}
    .popover .pop-val{font-weight:700; color:#fff}
    .sort-arrows{ display:inline-flex; gap:3px; margin-left:6px; vertical-align:middle; }
    .sort-arrow{ font-size:10px; line-height:1; opacity:.30; }
    .sort-active{ opacity:1; color:#7c3aed; }

    /* Убираем горизонтальные скроллы (оставляем вертикальный) */
    .overflow-auto{ overflow-x:hidden; overflow-y:auto; }

    /* На всякий случай: не даём странице уезжать по X */
    html, body{ overflow-x:hidden; }

/* Types table: stream breakdown */
.types-table{table-layout:auto}
.types-table td{word-break:break-word}
.types-table th,
.types-table td{padding:.5rem .5rem}
.types-table .stream-cell{display:flex;flex-direction:column;gap:6px}
.types-table .stream-line{display:flex;flex-wrap:wrap;gap:6px;line-height:1.2}
.types-table .stream-name{font-weight:700;color:#4c1d95}
.types-table .stream-issues{color:#1f2937}
@media (max-width:1200px){
  .types-table td{font-size:12px}
}
@media (max-width:900px){
  .types-table td{font-size:11px}
}

/* Types table: grid lines for rows/columns */
.types-table{border-collapse:collapse}
.types-table th,
.types-table td{border:1px solid #e5e7eb}
.types-table thead th{background:#f7f5ff}

/* ===== Mobile adjustments ===== */
@media (max-width: 768px){
  .max-w-screen-2xl{max-width:100%}
  .card{padding:16px !important}
  .brand-badge{width:100%;justify-content:space-between}
  header.flex{flex-direction:column;align-items:flex-start}
  .btn, .input{border-radius:12px}
  .input{font-size:14px}
  .hint{font-size:.8rem}
  table{table-layout:auto}
  thead th, td{font-size:12px; padding:.5rem .55rem}
  .legend{gap:.6rem}
  .chart-viewport{padding:10px}
  .chart-viewport canvas{height:240px}
  .overflow-auto{overflow-x:auto}
}

@media (max-width: 480px){
  body{font-size:14px}
  .card{padding:14px !important}
  .btn{padding:.45rem .7rem; font-size:.8rem}
  .tabs{width:100%}
  .tab{flex:1; text-align:center}
  thead th, td{font-size:11px; padding:.45rem .5rem}
  .chart-viewport canvas{height:210px}
  .legend{font-size:.75rem}
}

/* ===== Добавлено для all_table_v1 (график вместо таблицы, стиль контейнера как в uwu_6) ===== */
.chart-viewport{
  position:relative;
  background:#fff;
  padding:14px;
  overflow:hidden;
}
.chart-viewport canvas{
  display:block;
  width:100%;
  height:320px; /* визуальная высота, даже без данных */
}
@media (min-width: 769px){
  .chart-viewport canvas{height:320px}
}
.chart-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:14px;
  color:#64748b;
  background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.88));
  pointer-events:none;
}

/* легенда как в all_table_v1 - копия, но в палитре uwu */
.legend{ display:flex; gap:.9rem; align-items:center; flex-wrap:wrap; }
.legend .lg-item{ display:inline-flex; align-items:center; gap:.4rem; font-size:.85rem; color:#4b5563; }
.legend .dot{ width:10px; height:10px; border-radius:999px; display:inline-block; }
.legend .dot-android{ background:var(--wb-primary); box-shadow:0 0 0 4px rgba(155,92,255,.12); }
.legend .dot-ios{ background:var(--wb-secondary); box-shadow:0 0 0 4px rgba(255,90,200,.12); }

/* danger button (для "Остановить сбор") */
.btn-danger{
  color:#fff;
  background:linear-gradient(90deg, rgba(244,63,94,1), rgba(255,90,200,.95));
  box-shadow:0 10px 30px rgba(244,63,94,.20);
}
.btn-danger:hover{filter:saturate(1.05);transform:translateY(-1px)}


/* ===== TestCases chart/table (manual/auto/total) ===== */
:root{
  --tc-manual:#f59e0b; /* ярко-оранжевый */
  --tc-auto:#06b6d4;   /* бирюзовый */
  --tc-total:#a855f7;  /* фиолетовый */
}

#tcTrendViewport{height:340px;}
@media (max-width:720px){
  #tcTrendViewport{height:300px;}
}

/* Заглушка той же высоты + анимация при сборе */
.tc-placeholder{
  min-height:520px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:14px;
  padding:16px;
  background:linear-gradient(180deg,#ffffff,#fbfaff);
}
.tc-skeleton{display:grid;gap:10px;}
.tc-skel-line{
  height:14px;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(124,58,237,.08), rgba(124,58,237,.18), rgba(124,58,237,.08));
  background-size:200% 100%;
}
.tc-placeholder.is-loading .tc-skel-line{
  animation:tcShimmer 1.15s linear infinite;
}
@keyframes tcShimmer{
  0%{background-position:0% 0;}
  100%{background-position:-200% 0;}
}
.tc-ph-text{
  font-size:12px;
  color:#64748b;
  text-align:center;
}

/* Легенда */
.dot.dot-manual{background:var(--tc-manual); border:1px solid rgba(0,0,0,.08);}
.dot.dot-auto{background:var(--tc-auto); border:1px solid rgba(0,0,0,.08);}
.dot.dot-total{background:var(--tc-total); border:1px solid rgba(0,0,0,.08);}

/* Полосы в таблице */
.bar-fill{height:100%;border-radius:999px;}
.bar-fill-manual{background:var(--tc-manual);}
.bar-fill-auto{background:var(--tc-auto);}
.bar-fill-total{background:var(--tc-total);}


/* Coverage chart colors (SWAT/STREAM) */
:root{
  --cov-swat:#22c55e;
  --cov-stream:#f43f5e;
}

.dot.dot-swat{ background: var(--cov-swat); }
.dot.dot-stream{ background: var(--cov-stream); }

/* Legend dots for cutoff/store */
.dot-ios-cutoff{background:var(--cut-ios-cutoff,#1d4ed8)}
.dot-ios-store{background:var(--cut-ios-store,#7c3aed)}
.dot-android-cutoff{background:var(--cut-android-cutoff,#22c55e)}
.dot-android-store{background:var(--cut-android-store,#f59e0b)}

/* На всякий случай, если в style.css нет базового вида точек */
.legend .dot{width:10px;height:10px;border-radius:9999px;display:inline-block;box-shadow:0 0 0 2px rgba(255,255,255,.9)}


/* === BiUser UI styles (moved from BiUser — копия.html) === */
:root{}
    *{box-sizing:border-box}
    body{margin:0}
    header{margin:0}
    header h1{margin:0}
    header p{margin:0}

    main{margin:0;padding:0}

    .card{}

    /* ===== Настройки: компоновка по макету ===== */
    .settings{
      display:grid;grid-template-columns:1fr 1fr;gap:12px
    }
    .settings .row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
    .settings .row2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:980px){
      .settings{grid-template-columns:1fr}
      .settings .row,.settings .row2{grid-template-columns:1fr}
    }
    label{display:block;font-size:13px;font-weight:700;letter-spacing:.01em;color:#4b4054;margin:6px 0 6px}
    input,select,textarea{width:100%;padding:10px 12px;border:1px solid var(--bd);border-radius:10px;background:#fff;font-size:14px}
    textarea{min-height:84px}
    .muted{color:var(--muted);font-size:13px}
    .inline{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .inline.snap-range{
      flex-wrap:nowrap;
    }
    .snap-range .form-ctl{
      flex:1 1 auto;
    }
    .snap-range .btn-sm{
      flex:0 0 auto;
      height:40px;
      padding:0 14px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    @media (max-width:780px){
      .inline.snap-range{
        flex-wrap:wrap;
      }
      .snap-range .btn-sm{
        height:auto;
        padding:6px 10px;
      }
    }
    .pill{border-radius:999px;padding:6px 10px;background:#fff;border:1px dashed rgba(111,29,122,.28);font-size:12px}
    .badge{display:inline-flex;align-items:center;gap:8px;background:rgba(111,29,122,.12);color:#4a0f54;padding:6px 10px;border-radius:999px;font-weight:800;font-size:13px}

    button{background:var(--wb);color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
    button:hover{background:var(--wb2)}
    .btn-sm{font-size:12px;padding:6px 10px;border:1px solid rgba(111,29,122,.28);background:#fff;color:#4a0f54;cursor:pointer;border-radius:8px}
    .ghost{background:#fff;border:1px solid rgba(111,29,122,.28);color:var(--wb)}

    /* Выпадашки */
    .dropdown{position:relative;background:#fff;border:1px solid var(--bd);border-radius:10px;cursor:pointer;font-size:14px}
    .dropdown-selected{padding:10px 10px}
    .dropdown.open .dropdown-selected{border-bottom-left-radius:0;border-bottom-right-radius:0}
    .dropdown-list{position:absolute;z-index:100;top:100%;left:0;right:0;background:#fff;border:1px solid var(--bd);border-top:none;border-bottom-left-radius:10px;border-bottom-right-radius:10px;box-shadow:0 10px 18px rgba(20,0,30,.12);display:none;flex-direction:column;gap:8px;padding:10px;animation:pop .14s ease}
    .dropdown.open .dropdown-list{display:flex}
    @keyframes pop{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
    .dropdown-list label{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color:#3a2d47;
      padding:4px 6px;
      border-radius:8px;
    }
    .dropdown-list label:hover{background:#faf7fd}
    .dropdown-list input[type=checkbox],
    .dropdown-list input[type=radio]{
      margin-left:12px;
      flex-shrink:0;
    }
    .dropdown-footer{display:flex;justify-content:space-between;align-items:center;margin-top:6px}

    .proxy-toggle{display:flex;flex-direction:column;align-items:center;margin-left:2px}
    .proxy-toggle-label{font-size:11px;line-height:1;color:var(--muted);margin-bottom:2px}
    .proxy-toggle input{margin:0}
    .dropdown--slim{border:1px solid var(--bd)}
    .dropdown--slim .dropdown-selected{padding:8px 10px;font-size:13px}

    /* Графики */
    .charts{display:grid;grid-template-columns:1fr;gap:16px}
    .chart-wrap{background:#fff;border:1px solid #efe5f4;border-radius:14px;padding:12px;overflow:hidden}
    .chart-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .chart-head .title{font-weight:800;color:#4a0f54;font-size:16px}
    .hint{font-size:13px;color:var(--muted)}
    .chart-viewport{height:460px}
    #trendViewport{height:460px}
    .chart-viewport canvas{width:100% !important;height:100% !important;display:block}
    @media (max-width:720px){ .chart-viewport{height:380px} #trendViewport{height:360px}}

    .chart-notes{margin-top:10px;padding:10px 12px;border:1px dashed var(--bd);border-radius:12px;background:#faf7fd}
    .chart-notes .legend{display:flex;gap:14px;flex-wrap:wrap;margin-bottom:6px;font-size:14px;color:#3a2d47}
    .chart-notes .legend .dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;vertical-align:middle}
    .chart-notes .legend .up .dot{background:var(--ok);border:1px solid #1b5e20}
    .chart-notes .legend .down .dot{background:var(--bad);border:1px solid #8e0000}
    .chart-notes .meta{margin-top:8px;display:flex;gap:16px;flex-wrap:wrap;font-size:13px;color:#4a0f54}
    .chart-notes .meta .pill{background:#efe7f3;border-radius:999px;padding:4px 8px}

    /* Таблицы и KPI */
    table{width:100%;border-collapse:collapse;font-size:14px}
    th,td{padding:10px 8px;border-bottom:1px solid #eee;text-align:left}
    th{background:#faf7fd;user-select:none;cursor:default}
    .kpis{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .kpi{background:#fff;border:1px solid #efe5f4;border-radius:10px;padding:10px 12px;min-width:160px}
    .kpi .muted{font-size:12px}
    .delta-pos{color:var(--ok);font-weight:700}
    .delta-neg{color:var(--bad);font-weight:700}

    pre{
      background:#0f0f10;
      color:#e9e9ea;
      border-radius:10px;
      padding:12px;
      white-space:pre-wrap;       /* переносим длинные строки */
      word-break:break-word;      /* ломаем очень длинные токены */
      max-height:420px;
      overflow-x:auto;            /* явный горизонтальный скролл при необходимости */
      overflow-y:auto;
      font-size:13px;
      max-width:100%;
      width:100%;
      box-sizing:border-box;
    }
    .logbox{
      position:relative;
      width:100%;
      max-width:100%;
      overflow-x:auto;
      overflow-y:auto;
      background:#0f0f10;
      border-radius:10px;
      box-sizing:border-box;
    }
    .toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap}

    /* === Шапка настроек === */
    .settings-grid{ display:grid; grid-template-columns: 1.2fr 1fr 1fr 1.2fr; gap:12px 14px; align-items:end; }
    @media (max-width: 1200px){ .settings-grid{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 780px){ .settings-grid{ grid-template-columns: 1fr; } }
    .form-field label{ display:block; font-size:13px; font-weight:700; color:#4b4054; margin:0 0 6px; }
    .form-ctl{ width:100%; height:40px; padding:8px 12px; border:1px solid var(--bd); border-radius:10px; background:#fff; font-size:14px; }
    .form-ctl[readonly]{ background:#faf7fd }
    .switch-line{ display:flex; gap:10px; align-items:center; }
    .badges-line{ display:flex; flex-wrap:wrap; gap:8px 10px; align-items:center; }
    .actions-line{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .dropdown.form-ctl{ padding:0; display:flex; align-items:center; min-height:40px; }
    .dropdown-selected{ width:100%; padding:8px 12px; }
    .dropdown-list{ max-height:260px; overflow:auto; }

    /* Компактный дропдаун для списка релизов */
    #releasesDropdown {
      max-width: 520px;
    }
    #releasesDropdown .dropdown-list {
      max-height: 300px;
      padding: 6px 8px;
    }
    #releasesDropdown .toolbar {
      margin-bottom: 4px;
    }
    #releasesDropdown .release-item {
      padding: 2px 6px;
      gap: 3px;
    }
    #releasesDropdown .release-name {
      font-size: 12px;
      line-height: 1.1;
    }
    #releasesDropdown .release-sub {
      font-size: 10px;
      line-height: 1.1;
      margin-top: 0;
    }

    .settings-foot{ display:grid; grid-template-columns: 1fr auto auto auto; gap:12px; align-items:center; margin-top:8px; }
    @media (max-width: 780px){ .settings-foot{ grid-template-columns: 1fr; } }


/* === BiUser Neo theme === */
.bi-user{
  --ink:#0f172a;
  --muted:#4b5563;
  --card:#ffffff;
  --accent: var(--wb-primary);
  --accent2: var(--wb-secondary);
  --line: rgba(155,92,255,.18);
  --soft: rgba(155,92,255,.08);
  color: var(--ink);
  background:
    radial-gradient(1200px 600px at 0% -10%, rgba(155,92,255,.22), transparent 60%),
    radial-gradient(900px 500px at 100% 0%, rgba(255,90,200,.16), transparent 55%),
    linear-gradient(180deg, #faf5ff, #f7f3ff 45%, #ffffff 100%);
  font-family: 'Manrope', ui-sans-serif, system-ui, -apple-system, Segoe UI, sans-serif;
}
.bi-user *{box-sizing:border-box}
.bi-user .app-shell{
  position:relative;
  max-width: 1480px;
  padding-left: 24px;
  padding-right: 24px;
}
.bi-user .app-shell::before{
  content:'';
  position:absolute;
  width:420px;
  height:420px;
  left:-140px;
  top:120px;
  background:radial-gradient(circle at 30% 30%, rgba(155,92,255,.30), rgba(155,92,255,0));
  filter: blur(6px);
  opacity:.9;
  pointer-events:none;
  z-index:0;
}
.bi-user .app-shell::after{
  content:'';
  position:absolute;
  width:380px;
  height:380px;
  right:-140px;
  top:260px;
  background:radial-gradient(circle at 70% 30%, rgba(255,90,200,.28), rgba(255,90,200,0));
  filter: blur(8px);
  opacity:.9;
  pointer-events:none;
  z-index:0;
}
.bi-user .app-shell > *{position:relative; z-index:1}

.bi-user header{
  background: rgba(255,255,255,.75);
  border: 1px solid var(--line);
  border-radius: 22px;
  padding: 14px 16px;
  box-shadow: 0 18px 40px rgba(155,92,255,.15);
  backdrop-filter: blur(10px);
}
.bi-user .brand-badge{
  background: rgba(255,255,255,.9);
  border:1px solid var(--line);
  padding: 8px 12px;
  border-radius: 999px;
  gap: .7rem;
  box-shadow: 0 10px 26px rgba(155,92,255,.16);
}
.bi-user .brand-dot{
  width:12px;height:12px;border-radius:99px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow: 0 0 0 6px rgba(155,92,255,.16);
}
.bi-user .chip{
  background: #0f172a;
  color:#fff;
  border-radius: 999px;
  padding: 2px 8px;
  font-weight:700;
  font-size:11px;
}

.bi-user .card{
  background: rgba(255,255,255,.86);
  border:1px solid var(--line);
  border-radius: 22px;
  box-shadow: 0 20px 50px rgba(15,23,42,.10);
  backdrop-filter: blur(6px);
  animation: biCardRise .55s ease both;
}
.bi-user .card:nth-of-type(2){animation-delay:.05s}
.bi-user .card:nth-of-type(3){animation-delay:.1s}
.bi-user .card:nth-of-type(4){animation-delay:.15s}
@keyframes biCardRise{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@media (prefers-reduced-motion: reduce){.bi-user .card{animation:none}}

.bi-user label{
  font-family:'Space Grotesk', ui-sans-serif, system-ui, sans-serif;
  letter-spacing:.02em;
  color:#1f2937;
}
.bi-user .hint, .bi-user .muted{color:var(--muted)}

.bi-user .input,
.bi-user .form-ctl{
  border-radius:14px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.95);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
}
.bi-user .input::placeholder,
.bi-user .form-ctl::placeholder,
.bi-user textarea::placeholder{
  color: rgba(76,29,149,.55);
  opacity: 1;
}
.bi-user .input:hover::placeholder,
.bi-user .form-ctl:hover::placeholder,
.bi-user textarea:hover::placeholder,
.bi-user .input:focus::placeholder,
.bi-user .form-ctl:focus::placeholder,
.bi-user textarea:focus::placeholder{
  color: rgba(76,29,149,.65);
}
.bi-user .input:focus,
.bi-user .form-ctl:focus{
  outline:none;
  border-color: var(--accent);
  box-shadow: 0 0 0 4px rgba(155,92,255,.20);
}

.bi-user .btn{
  border-radius: 14px;
  padding: .6rem .95rem;
  font-weight: 700;
  letter-spacing: .01em;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.bi-user .btn:active{transform:translateY(1px)}
.bi-user .btn-grad{
  color:#fff;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow: var(--ring);
}
.bi-user .btn-grad:hover{filter:saturate(1.04); transform:translateY(-1px)}
.bi-user .btn-soft{
  background: rgba(155,92,255,.08);
  border:1px solid var(--line);
  color:#4c1d95;
}
.bi-user .btn-ghost{
  background: transparent;
  border:1px dashed rgba(155,92,255,.35);
  color:#4c1d95;
}
.bi-user .btn-soft:hover,
.bi-user .btn-ghost:hover{background: rgba(155,92,255,.12)}

.bi-user .pill{
  background: rgba(155,92,255,.10);
  border:1px dashed rgba(155,92,255,.35);
  color:#4c1d95;
}
.bi-user .badge{
  background: rgba(255,90,200,.12);
  border:1px solid rgba(255,90,200,.30);
  color:#5b1b4d;
}

.bi-user table{
  border-collapse:separate;
  border-spacing:0;
}
.bi-user thead th{
  background: linear-gradient(180deg, rgba(155,92,255,.12), rgba(255,90,200,.08));
  color:#4c1d95;
  border-bottom:1px solid var(--line);
}
.bi-user tbody tr:hover td{background: rgba(14,165,164,.04)}

.bi-user .chart-wrap{
  border:1px solid var(--line);
  border-radius:18px;
  background: rgba(255,255,255,.9);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.65);
}
.bi-user .chart-notes{background: rgba(15,23,42,.03); border:1px dashed var(--line)}

.bi-user pre,
.bi-user .logbox{
  background: #0f172a;
  color:#e2e8f0;
  border:1px solid rgba(255,255,255,.05);
}

@media (max-width:720px){
  .bi-user header{border-radius:18px}
  .bi-user .card{border-radius:18px}
}

/* aligned radio/checkbox rows */
.bi-user .check-row{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}
.bi-user .check-row label{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  background: rgba(15,23,42,.04);
  border:1px solid var(--line);
  width:auto;
}
.bi-user .check-row input{ margin:0; }

/* global scale up */
.bi-user{
  font-size:18px;
  line-height:1.4;
}
.bi-user main{ gap:24px; }
.bi-user .card{
  padding:28px;
}
.bi-user .input,
.bi-user .form-ctl{
  height:48px;
  padding:.75rem 1rem;
  font-size:1rem;
}
.bi-user textarea.input,
.bi-user textarea.form-ctl{
  min-height:140px;
  height:auto;
}
.bi-user .btn{
  padding:.8rem 1.2rem;
  font-size:1rem;
}
.bi-user .btn-sm{
  padding:.6rem .9rem;
  font-size:.9rem;
}
.bi-user .badge,
.bi-user .pill{
  font-size:.9rem;
}

.bi-user .chart-viewport{height:560px;}
.bi-user #trendViewport{height:560px;}
@media (max-width:720px){
  .bi-user .chart-viewport{height:420px;}
  .bi-user #trendViewport{height:420px;}
}

/* structured control blocks */
.bi-user .settings-foot{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
  align-items:start;
}
@media (min-width: 980px){
  .bi-user .settings-foot{
    grid-template-columns: 1fr auto;
    align-items:end;
  }
}
.bi-user .status-panel{
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  background:rgba(255,255,255,.7);
}
.bi-user .actions-panel{
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  background:rgba(255,255,255,.8);
  display:flex;
  flex-direction:column;
  gap:10px;
}
.bi-user .actions-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:flex-start;
}
.bi-user .top-controls{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
  align-items:end;
}
@media (min-width: 980px){
  .bi-user .top-controls{
    grid-template-columns: 1fr auto;
  }
}
.bi-user .controls-panel{
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  background:rgba(255,255,255,.75);
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  align-items:end;
  min-width: 260px;
}
.bi-user .control-field label{
  margin-bottom:6px;
  display:block;
}
.bi-user .dropdown{
  border:1px solid var(--line);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
}

/* PDF export overrides */
.pdf-export{
  background:#fff !important;
}
.pdf-export .card,
.pdf-export .chart-wrap,
.pdf-export .chart-notes{
  background:#fff !important;
  box-shadow:none !important;
  backdrop-filter:none !important;
  border-color:#e5e7eb !important;
}
.pdf-export .hint,
.pdf-export .muted{
  color:#334155 !important;
}
.pdf-export .pill,
.pdf-export .badge{
  background:#f8fafc !important;
  border-color:#e2e8f0 !important;
  color:#0f172a !important;
}
.pdf-export canvas,
.pdf-export img{
  image-rendering:auto;
}

/* PDF sheets (summary/analytics) */
.pdf-sheet{
  width: 1200px;
  padding: 24px 28px;
  background: #ffffff;
  color: #0f172a;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: none;
}
.pdf-sheet .pdf-title{
  font-size: 22px;
  font-weight: 800;
  margin: 0 0 6px;
}
.pdf-sheet .pdf-meta{
  font-size: 13px;
  color: #475569;
  margin-bottom: 12px;
}
.pdf-sheet table{
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}
.pdf-sheet th,
.pdf-sheet td{
  border: 1px solid #e2e8f0;
  padding: 6px 8px;
  text-align: left;
  vertical-align: top;
}
.pdf-sheet th{
  background: #f8fafc;
  font-weight: 700;
}

/* settings grid layout */
.bi-user .settings-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  grid-template-areas:
    "proxy mode platform interval"
    "snapfrom snapto snapapply snaplist"
    "cookie cookie cookie cookie";
  gap:16px 18px;
  align-items:end;
}
.bi-user .area-proxy{grid-area:proxy;}
.bi-user .area-mode{grid-area:mode;}
.bi-user .area-platform{grid-area:platform;}
.bi-user .area-interval{grid-area:interval;}
.bi-user .area-snap-from{grid-area:snapfrom;}
.bi-user .area-snap-to{grid-area:snapto;}
.bi-user .area-snap-apply{grid-area:snapapply; align-self:end;}
.bi-user .area-snap-list{grid-area:snaplist;}
.bi-user .area-cookie{grid-area:cookie;}

.bi-user .btn-block{width:100%;}
.bi-user .no-label label{
  height:0;
  margin:0;
  padding:0;
  visibility:hidden;
}

@media (max-width:1200px){
  .bi-user .settings-grid{
    grid-template-columns: repeat(2, minmax(0,1fr));
    grid-template-areas:
      "proxy mode"
      "platform interval"
      "snapfrom snapto"
      "snapapply snaplist"
      "cookie cookie";
  }
}
@media (max-width:780px){
  .bi-user .settings-grid{
    grid-template-columns: 1fr;
    grid-template-areas:
      "proxy"
      "mode"
      "platform"
      "interval"
      "snapfrom"
      "snapto"
      "snapapply"
      "snaplist"
      "cookie";
  }
}
